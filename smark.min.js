/* @license smark.js written by Kenneth Lim <limzy.kenneth@gmail.com> (http://designerken.be)
   License under the BSD 2-Clause License */
(function(e){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=e()}else if(typeof define==="function"&&define.amd){define([],e)}else{var r;if(typeof window!=="undefined"){r=window}else if(typeof global!=="undefined"){r=global}else if(typeof self!=="undefined"){r=self}else{r=this}r.smark=e()}})(function(){var e,r,t;return function a(e,r,t){function i(s,o){if(!r[s]){if(!e[s]){var p=typeof require=="function"&&require;if(!o&&p)return p(s,!0);if(l)return l(s,!0);var n=new Error("Cannot find module '"+s+"'");throw n.code="MODULE_NOT_FOUND",n}var h=r[s]={exports:{}};e[s][0].call(h.exports,function(r){var t=e[s][1][r];return i(t?t:r)},h,h.exports,a,e,r,t)}return r[s].exports}var l=typeof require=="function"&&require;for(var s=0;s<t.length;s++)i(t[s]);return i}({1:[function(e,r,t){var a=e("./regex.js");a.options={type:"auto",typography:true};a.generate=function(e,r){var t=e;var a="";var i=this.options;for(var l in r){for(var s in i){if(l==s){i.j=r.i}}}var o=i.type;var p=i.typography;if(this.youtubeRE.test(e)){t=e.replace(this.youtubeRE,"$1");a='<iframe class="smark youtube" src="https://www.youtube.com/embed/'+t+'" frameborder="0" width="853" height="480" allowfullscreen></iframe>';if(o=="auto")o="youtube"}else if(this.vimeoRE.test(e)){t=e.replace(this.vimeoRE,"$1");a='<iframe class="smark vimeo" src="https://player.vimeo.com/video/'+t+'" frameborder="0" width="853" height="480" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>';if(o=="auto")o="vimeo"}else if(this.imageRE.test(e)){tmp1=e.replace(this.imageRE,"$1");tmp2=e.replace(this.imageRE,"$2");tmp2=this.typographicChanges(true,tmp2);a='<img class="smark image" title="'+tmp2+'" src="'+tmp1+'">';if(this.imageLinkRE.test(e)){tmp3=this.imageLinkRE.exec(e)[0];tmp3=tmp3.substring(1,tmp3.length-1);a='<a href="'+tmp3+'" target=_blank>'+a+"</a>"}if(o=="auto")o="image"}else if(this.htmlRE.test(e)){t=e.match(this.htmlRE)[0];a='<iframe class="smark website" src="'+t+'" width="853" height="480" frameborder="0"></iframe>';if(o=="auto")o="link"}else{t=this.parseParagraph(p,t);a='<p class="smark paragraph">'+t+"</p>";if(o=="auto")o="paragraph"}return{html:a,type:o}};a.typographicChanges=e("./typography.js");a.parseParagraph=e("./paragraph.js");r.exports=a},{"./paragraph.js":2,"./regex.js":3,"./typography.js":4}],2:[function(e,r,t){var a=e("./regex.js");r.exports=function(e,r){r=this.typographicChanges(e,r);var t="";r=n(r);var i=r.match(a.olRE);if(i!==null){for(var l=0;l<i.length;l++){var s=i[l].match(a.olliRE);t="<ol>";for(var o=0;o<s.length;o++){t+="<li>"+s[o].replace(a.olliRE,"$1")+"</li>"}t+="</ol>";r=r.replace(i[l],t)}}var p=r.match(a.ulRE);if(p!==null){for(var l=0;l<p.length;l++){var s=p[l].match(a.ulliRE);t="<ul>";for(var o=0;o<s.length;o++){t+="<li>"+s[o].replace(a.ulliRE,"$1")+"</li>"}t+="</ul>";r=r.replace(p[l],t)}}if(a.bqRE.test(r)){if(r.replace(a.bqRE,"$2")===""){r=r.replace(a.bqRE,"<blockquote><p>$1</p></blockquote>")}else{r=r.replace(a.bqRE,"<blockquote><p>$1</p><footer>$2</footer></blockquote>")}}r=r.replace(a.h6RE,"<h6>$1</h6>");r=r.replace(a.h5RE,"<h5>$1</h5>");r=r.replace(a.h4RE,"<h4>$1</h4>");r=r.replace(a.h3RE,"<h3>$1</h3>");r=r.replace(a.h2RE,"<h2>$1</h2>");r=r.replace(a.h1RE,"<h1>$1</h1>");r=r.replace(a.hrRE,"<hr />");return r;function n(e){if(e.replace(a.linkRE,"$1")!==""){t='<a href="$2">$1</a>';if(a.linkBlankRE.test(e)){t='<a target=_blank href="$2">$1</a>'}}e=e.replace(a.linkRE,t);if(e.replace(a.linkBareRE,"$1")!==""){t='<a href="$1">$1</a>';if(a.linkBlankRE.test(e)){t='<a target=_blank href="$1">$1</a>'}}e=e.replace(a.linkBareRE,t);return e}}},{"./regex.js":3}],3:[function(e,r,t){var a={youtubeRE:/^(?:https?:\/\/)?(?:www\.)?youtu(?:\.be|be\.com)\/(?:watch|embed\/watch|embed)?[\?\/]?(?:v=|feature=player_embedded&v=)?(\w+)$/,vimeoRE:/^(?:https?:\/\/)?(?:www\.)?vimeo\.com\/(?:channels\/)?(?:\w+\/)?(\d+)$/,imageRE:/^(?! )(.+?\.(?:jpg|jpeg|gif|png|bmp))(?: -title="(.+?)")?(?:\(.+?\))?$/,imageLinkRE:/(?:\((.+?)\)){1}/,htmlRE:/^((?!.*(jpg|jpeg|gif|png|bmp))(https?:\/\/)[\w\-_]+(\.[\w\-_]+)+[\w\-.,@?^=%&:\/~\\+#]*)|.+\.(?!jpg|jpeg|gif|png|bmp)html?$/,linkRE:/\[(?!-)(.*?)\](?:|-blank) ?\((.+?)\)/g,linkBlankRE:/\[(?!-)(.*?)\]-blank ?\((.+?)\)/g,linkBareRE:/\[(?!-)(.*?)\](?:-blank)?/g,linkBareBlankRE:/\[(?!-)(.*?)\](?:-blank)/g,olRE:/(?:\d\.\s(.+?) \| ?)+/g,olliRE:/\d\.\s(.+?) \|/g,ulRE:/(?:\*\s(.+?) \| ?)+/g,ulliRE:/\*\s(.+?) \|/g,h6RE:/\s?#{6} (.+?) #{6}\s?/g,h5RE:/\s?#{5} (.+?) #{5}\s?/g,h4RE:/\s?#{4} (.+?) #{4}\s?/g,h3RE:/\s?#{3} (.+?) #{3}\s?/g,h2RE:/\s?#{2} (.+?) #{2}\s?/g,h1RE:/\s?# (.+?) #\s?/g,hrRE:/\s?---\s?/g,bqRE:/```(.+?)(?:\[-source:\s?(.+)\])?```/g,dQuotRE:/(^|\s(?:[ \.,;:\b\[])?)\\?"(.+?)\\?"([ \.,;:\b\]])?/g,sQuotRE:/(^|\s(?:[ \.,;:\b\[])?)\\?'(.+?)\\?'([ \.,;:\b\]])?/g,volRE:/\bvol\.\s\b/gi,pRE:/\bp\.\s\b(?=\d+)/g,cRE:/\bc\.\s\b(?=\d+)/g,flRE:/\bfl\.\s\b(?=\d+)/g,ieRE:/\bi\.e\.\s?\b/g,egRE:/\be\.g\.\s\b/g,aposRE:/([A-Za-z]+)'([a-z]+)/g,endashRE:/(.+)\s-\s(.+)/g,elipseRE:/\.{3}/g};r.exports=a},{}],4:[function(e,r,t){r.exports=function(e,r){r=r.replace(this.dQuotRE,"$1&#8220;$2&#8221;$3");r=r.replace(this.sQuotRE,"$1&#8216;$2&#8217;$3");r=r.replace(this.volRE,"Vol.");r=r.replace(this.pRE,"p.");r=r.replace(this.cRE,"<i>c.</i>");r=r.replace(this.flRE,"<i>fl.</i>");r=r.replace(this.ieRE,"<i>ie</i> ");r=r.replace(this.egRE,"<i>eg</i> ");r=r.replace(this.aposRE,"$1&#8217;$2");r=r.replace(this.endashRE,"$1&#8211;$2");r=r.replace(this.elipseRE,"&#8230;");return r}},{}]},{},[1])(1)});
